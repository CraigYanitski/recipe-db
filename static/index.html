<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home Recipes</title>
    <link href="/index.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/images/favicon.svg" />
    <link rel="shortcut icon" href="/images/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" />
    <link rel="manifest" href="/images/site.webmanifest" />
</head>

<body>
    <div class="title">
        <h1>{{ .Recipes | len }} Available Recipes</h1>
        <form class="recipe-links" id="recipe-link-form">
            <button type="home" onclick="window.location.reload()" class="button-link">Reload</button>
            <span class="button-link-spacer">&nbsp;</span>
            <span class="button-link-spacer" style="flex-grow: 1;">&nbsp;</span>
            <span class="button-link-spacer">&nbsp;</span>
            <span class="button-link-spacer" style="flex-grow: 1;">&nbsp;</span>
        </form>
        <div class="explanation">
            <div class="explanation" style="margin-top: 0px;">
            This is a growing list containing all of your recipes that have been digitised. 
            You may add a new recipe using the form at the bottom of the page. 
            </div>

            <div class="explanation" style="margin-bottom: 0px;">
            The options that are absolutely required are the <i>Recipe Name</i> 
            and the <i>Creation Time</i>, which should be the <emph>number of minutes</emph> it takes to
            create the dish (prep time + cook time + chill time).
            </div>
            <div class="explanation" style="margin-top: 0px;">
            The <i>Ingredients</i> and <i>Instructions</i> lists are optional, and will be displayed as bullet points.
            </div>

            <div class="explanation" style="margin-bottom: 0px;">
            There are two formatting options when adding ingredients or instructions that do not use bullet points: 
            section titles and notes.
            If you surround the text in parentheses, for example <code>(Section)</code>, it is rendered as,
            </div>
            <div class="explanation" style="margin-top: 0px;">
            <h6>Section</h6>
            </div>

            <div class="explanation" style="margin-bottom: 0px;">
            Likewise, if you can create a note if you begin the text with an exclamation point, 
            for example <code>!This is a note!</code>, which is rendered as,
            </div>
            <div class="note">This is a note!</div>

            <div class="explanation">
            And in case you make a mistake or want to add more information to your recipes,
            there is also an option to edit them individually.
            In that case, you might need to refresh that recipe's webpage for it to get the edited version.
            </div>

            <div class="explanation">
            Otherwise, enjoy your recipes!
            </div>
        </div>
    </div>

    <div class="recipe-list">
        <h2>Recipe List</h2>
        <dl id="recipe-times">
        {{ range .Recipes }}
            <dt><a href={{ replace .Name " " "-" }}>{{ .Name }}</a></dt>
            <dd>(<i>{{ .CookTime }} minutes</i>)</dd>
        {{ end }}
        </dl>
    </div>

    <div class="banner" id="notification-banner">
        <span id="notification-message">Notification here</span>
    </div>

    <div class="new-recipe-form">
        <h2>Add recipe</h2>
        <form id="new-recipe">
            <div class="form-group">
                <label for="recipe-name">Recipe Name</label>
                <input type="text" id="recipe-name" placeholder="A fancy and unique recipe name" required>
            </div>
            <div class="form-group">
                <label>Ingredient</label>
                <div class="ingredients-container" id="all-ingredients">
                    <!-- This will be dynamically-filled -->
                </div>
                <button type="button" class="add-button" id="add-ingredient-button">
                    <i>+</i> Add Ingredient
                </button>
            </div>
            <div class="form-group">
                <label>Instructions</label>
                <div class="instructions-container" id="all-instructions">
                    <!-- This will be dynamically-filled -->
                </div>
                <button type="button" class="add-button" id="add-instruction-button">
                    <i>+</i> Add Step
                </button>
            </div>
            <div class="form-group">
                <label for="recipe-cooktime">Creation time (prep + cook + chill time)</label>
                <input type="number" id="recipe-cooktime" placeholder="Number of minutes" required/>
            </div>
            <button type="submit" class="submit-button">Add Recipe</button>
        </form>
    </div>

    <script src="./addRecipeForm.js" type="text/javascript" defer></script>
</body>

</html>

